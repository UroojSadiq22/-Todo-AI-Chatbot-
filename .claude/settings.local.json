{
  "permissions": {
    "allow": [
      "Skill(sp.implement)",
      "Bash(git rev-parse --git-dir)",
      "Bash(git fetch --all --prune)",
      "Bash(pwsh -Command \".specify/scripts/powershell/create-new-feature.ps1 -Json ''{\"\"description\"\":\"\"Convert backend to Neon PostgreSQL only\\\\n\\\\nGoal:\\\\nRefactor the backend so the application uses Neon PostgreSQL as the single and only database.\\\\n\\\\nScope:\\\\n- Remove all local or alternative database configurations\\\\n- Use one DATABASE_URL pointing to Neon PostgreSQL\\\\n- Ensure user registration saves data only in Neon DB\\\\n- Fix environment variable and Pydantic settings conflicts\\\\n- Ensure async database connection works reliably on startup\\\\n\\\\nSuccess criteria:\\\\n- App starts without database or settings errors\\\\n- All database operations use Neon PostgreSQL\\\\n- Users are stored and retrieved from Neon DB\\\\n- No duplicate or unused DB configs remain\\\\n\\\\nConstraints:\\\\n- FastAPI backend\\\\n- SQLAlchemy async + asyncpg\\\\n- pydantic-settings for config\\\\n- One .env file as source of truth\\\\n\\\\nNot building:\\\\n- Local PostgreSQL support\\\\n- Multi-database logic\\\\n- Migrations or schema changes\\\\n- Frontend or deployment work\"\"}'' -Number 1 -ShortName ''neon-db-only''\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -File \".specify/scripts/powershell/create-new-feature.ps1\" -Json \"{\"\"description\"\":\"\"Convert backend to Neon PostgreSQL only\\\\n\\\\nGoal:\\\\nRefactor the backend so the application uses Neon PostgreSQL as the single and only database.\\\\n\\\\nScope:\\\\n- Remove all local or alternative database configurations\\\\n- Use one DATABASE_URL pointing to Neon PostgreSQL\\\\n- Ensure user registration saves data only in Neon DB\\\\n- Fix environment variable and Pydantic settings conflicts\\\\n- Ensure async database connection works reliably on startup\\\\n\\\\nSuccess criteria:\\\\n- App starts without database or settings errors\\\\n- All database operations use Neon PostgreSQL\\\\n- Users are stored and retrieved from Neon DB\\\\n- No duplicate or unused DB configs remain\\\\n\\\\nConstraints:\\\\n- FastAPI backend\\\\n- SQLAlchemy async + asyncpg\\\\n- pydantic-settings for config\\\\n- One .env file as source of truth\\\\n\\\\nNot building:\\\\n- Local PostgreSQL support\\\\n- Multi-database logic\\\\n- Migrations or schema changes\\\\n- Frontend or deployment work\"\"}\" -Number 1 -ShortName \"neon-db-only\")",
      "Bash(git checkout -b 001-neon-db-only)",
      "Bash(pwsh -ExecutionPolicy Bypass -File \".specify/scripts/powershell/setup-plan.ps1\" -Json)",
      "Bash(powershell.exe -ExecutionPolicy Bypass -File \".specify/scripts/powershell/setup-plan.ps1\" -Json)",
      "Bash(powershell.exe -ExecutionPolicy Bypass -File \".specify/scripts/powershell/check-prerequisites.ps1\" -Json -RequireTasks -IncludeTasks)",
      "Skill(sp.phr)",
      "Bash(.specify/scripts/powershell/create-new-feature.ps1 -Json \"Goal:\nFix the user registration flow so that:\n- User can successfully register without 422 errors\n- User data is saved correctly in Neon PostgreSQL\n- Frontend redirects to /dashboard after successful registration\n\nSystem context:\n- Backend: FastAPI + SQLModel \\(async\\) + Neon PostgreSQL\n- Frontend: Next.js \\(App Router\\) + Axios\n- Authentication: JWT\n- Current issue: POST /api/auth/register always returns 422 Unprocessable Content\n\nPrimary problem to solve:\nEliminate all request/response schema mismatches and validation conflicts causing 422 during registration.\n\nScope \\(INCLUDE\\):\n1. Analyze FastAPI /register endpoint request validation\n2. Identify ALL Pydantic / SQLModel validation conflicts\n3. Ensure frontend request body EXACTLY matches backend expected schema\n4. Ensure backend response EXACTLY matches frontend expectations\n5. Ensure Neon DB insert completes successfully\n6. Add minimal, explicit logging for request payload + validation failure\n7. Make registration flow deterministic and debuggable\n\nExplicit fix\" -Number 2 -ShortName \"fix-registration-422\" -Description \"Fix user registration flow 422 errors\")",
      "Bash(.specify/scripts/bash/create-new-feature.sh --json 'Goal:\nFix the user registration flow so that:\n- User can successfully register without 422 errors\n- User data is saved correctly in Neon PostgreSQL\n- Frontend redirects to /dashboard after successful registration\n\nSystem context:\n- Backend: FastAPI + SQLModel \\(async\\) + Neon PostgreSQL\n- Frontend: Next.js \\(App Router\\) + Axios\n- Authentication: JWT\n- Current issue: POST /api/auth/register always returns 422 Unprocessable Content\n\nPrimary problem to solve:\nEliminate all request/response schema mismatches and validation conflicts causing 422 during registration.\n\nScope \\(INCLUDE\\):\n1. Analyze FastAPI /register endpoint request validation\n2. Identify ALL Pydantic / SQLModel validation conflicts\n3. Ensure frontend request body EXACTLY matches backend expected schema\n4. Ensure backend response EXACTLY matches frontend expectations\n5. Ensure Neon DB insert completes successfully\n6. Add minimal, explicit logging for request payload + validation failure\n7. Make registration flow deterministic and debuggable\n\nExplicit fix' --number 2 --short-name \"fix-registration-422\" --description \"Fix user registration flow 422 errors\")",
      "Bash(git checkout -b 2-fix-registration-422)",
      "Bash(.specify/scripts/powershell/setup-plan.ps1 -Json)",
      "Bash(.specify/scripts/powershell/check-prerequisites.ps1 -Json)",
      "Bash(.specify/scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks)",
      "Bash(.specify/scripts/powershell/create-new-feature.ps1:*)",
      "Bash(.specify/scripts/bash/create-new-feature.sh:*)",
      "Bash(git checkout:*)",
      "Bash(pwsh -NoProfile -ExecutionPolicy Bypass -Command \".specify/scripts/powershell/setup-plan.ps1 -Json\")",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \".specify/scripts/powershell/setup-plan.ps1 -Json\")",
      "Bash(dir:*)",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \".specify/scripts/powershell/update-agent-context.ps1 -AgentType claude\")",
      "Bash(bash .specify/scripts/bash/create-phr.sh:*)",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \".specify/scripts/powershell/check-prerequisites.ps1 -Json\")",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \".specify/scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks\")",
      "Bash(alembic upgrade:*)",
      "Bash(alembic current:*)",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \".specify/scripts/powershell/create-new-feature.ps1 -Json -Number 2 -ShortName ''openai-agents-mcp-integration'' ''Phase 3 Part 2 - OpenAI Agents SDK with MCP Tools Integration''\")",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \".specify/scripts/powershell/create-new-feature.ps1 -Number 2 -ShortName ''openai-agents-mcp-integration'' -Description ''Phase 3 Part 2 - OpenAI Agents SDK with MCP Tools Integration'' -Json\")",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \"C:\\\\Users\\\\LAPTOP\\\\speckitplus-projects\\\\evolution-of-todo-H2\\\\todo-app-phase3\\\\.specify\\\\scripts\\\\powershell\\\\update-agent-context.ps1 -AgentType claude\":*)",
      "Bash(.specify/scripts/bash/create-phr.sh:*)",
      "Bash(echo:*)",
      "Bash(powershell -ExecutionPolicy Bypass -File .specify/scripts/powershell/check-prerequisites.ps1:*)",
      "Bash(powershell:*)",
      "Bash(powershell.exe -NoProfile -ExecutionPolicy Bypass -Command \".specify/scripts/powershell/create-new-feature.ps1 -Json -Number 003 -ShortName ''chatkit-frontend-integration'' ''Phase 3 Part 3: OpenAI ChatKit Frontend Integration''\")",
      "WebSearch",
      "WebFetch(domain:platform.openai.com)",
      "WebFetch(domain:sdk.vercel.ai)",
      "Bash(ls:*)",
      "Bash(npm run build:*)"
    ]
  }
}
